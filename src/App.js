import React from 'react';
import './octicons.min.css';
import './sweetalert.min.css';

class App extends React.Component {


  handleclick(){
    console.log("Start button pushed");
  
    var o = {};
  
    // Can hint connection type
    // from 0..
    // ["GPRS", "3G", "4G", "WiFi", "Wireless", "Satellite", "DSL", "Cable", "Fiber", "", "Unsure"];
    // undefined == Unsure
    o.conntype = undefined;
    // for complete results, bufferbloat must be true
    // for faster results lacking grades and URL etc
    // set to false
    o.bufferbloat = true;
    
    // hz can be 4 (fastest), 2 (default) or 1 (slowest)
    // determines speed that onstatus is called
    o.hz = 4; 
  
    o.apiKey = '12345678'; // Test API key
  
    // fired continuously with basic info
    o.onstatus = function(e) {
      if (e.direction)
        console.log(e.direction + " megabit/sec: down/up " + e.down + " / " + e.up + " ping=" + e.ping + "ms");
         document.getElementById('down').innerHTML = Math.round(e.down);
          document.getElementById('up').innerHTML =  Math.round(e.up);
          document.getElementById('ping').innerHTML = e.ping;
           
          
        
        
    };
  
    // fired at 1hz with progress guesstimate
    o.onprogress = function(o) {
      document.getElementById('status').innerHTML = o.doing + " Progress:" + o.progress + "%";
      if(o.progress===100)
      {
        var element = document.getElementById("startbutton");
        element.classList.remove("active");
        //alert("complee");
      }
    };

    o.onerror = function(o) {
      // this also marks the test end. oncomplete is not fired
      alert(o.msg);
    };
  
    // fired once upon successful conclusion
    // o has results.. see log for json version of structure
    o.oncomplete = function(o) {
      var s = JSON.stringify(o);
      console.log("oncomplete fired " + s);
      document.getElementById('ip').innerHTML = o.ip;
      document.getElementById('jitter').innerHTML = Math.round(o.jitter);
       document.getElementById('nearest').innerHTML = o.nearest;
       var strr = o.grades
       var str=strr.split(/[\s,]+/)
        document.getElementById('grades').innerHTML =str[str.length-1];
        
        document.getElementById('dns').innerHTML = o.dns;
        
        
      
    };
  
    // fired if the test wants to ask a question of the user with
    // a YES/NO answer.
    o.onconfirm = function(s) {
      return window.confirm(s);
    }; 
    
    // pass any user data in, it is stored 
    // and also returned with result.
    o.udata = { "myuserfield": "myvalue" };
  
    window.dslr_speedtest({
      op: 'start',
      params: o
    }); 
  }
  render() {
    return (
      <div>
      <section className="c-main-wr">
        <div className="c-main-con">
          <div className="row">
            <div className=" c-main-box2">
              <div className="c-main-box-img">
                <picture>
                  <source srcSet="img/banner-img.webp" type="image/webp" alt="" />
                  <source srcSet="img/banner-img.jpg" type="image/jpg" alt="" />
                  <img src="img/banner-img.jpg" alt="" /> </picture>
              </div>
            </div>
            <div className=" c-main-box1">
              <div className="c-speedtest-main">
                <div className="c-speed-main">
                  <div className="c-speedtest-heading">
                    <h3>Speed &amp; Quality tester</h3>
                    {/*<h4>Your Internet speed is </h4>*/} 
                    <button className="c-refrash-icon " id='startbutton' onClick={this.handleclick}>
                      <svg enableBackground="new 0 0 512.001 512.001" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve" xmlns="http://www.w3.org/2000/svg">
                        <path d="m501.59 187.92c-11.73-42.476-34.492-81.489-65.825-112.82-48.424-48.423-112.81-75.092-181.29-75.092s-132.87 26.669-181.29 75.094l-6.611 6.611v-61.714c0-11.041-8.95-19.991-19.991-19.991s-19.991 8.95-19.991 19.991v73.121c0.079 15.839 6.241 30.758 17.353 42.011 11.151 11.292 26.026 17.616 41.886 17.807l71.701 1e-3c11.041 0 19.991-8.95 19.991-19.991s-8.95-19.991-19.991-19.991h-65.66l9.585-9.585c40.873-40.873 95.217-63.383 153.02-63.383s112.15 22.51 153.02 63.383c26.453 26.453 45.664 59.371 55.557 95.194 2.447 8.863 10.49 14.675 19.258 14.674 1.761 0 3.553-0.235 5.334-0.727 10.642-2.937 16.888-13.947 13.948-24.59z" />
                        <path d="m210.34 468.85c-5.929-1.291-11.876-2.854-17.673-4.645-10.548-3.258-21.742 2.649-25.002 13.199-3.26 10.549 2.65 21.742 13.198 25.002 6.88 2.125 13.935 3.979 20.97 5.512 1.434 0.312 2.863 0.462 4.272 0.462 9.197 0 17.477-6.388 19.513-15.743 2.35-10.789-4.49-21.439-15.278-23.787z" />
                        <path d="m127.76 431.23c-4.873-3.625-9.653-7.506-14.207-11.531-8.273-7.314-20.907-6.533-28.217 1.738-7.313 8.272-6.534 20.907 1.737 28.218 5.392 4.766 11.051 9.359 16.82 13.652 3.584 2.667 7.769 3.954 11.918 3.954 6.103 0 12.131-2.786 16.055-8.059 6.591-8.859 4.753-21.382-4.106-27.972z" />
                        <path d="m67.84 362.98c-2.964-5.309-5.732-10.804-8.229-16.335-4.545-10.062-16.387-14.535-26.448-9.991-10.062 4.544-14.535 16.386-9.991 26.447 2.962 6.557 6.245 13.073 9.759 19.366 3.659 6.557 10.462 10.25 17.473 10.25 3.298 0 6.642-0.818 9.726-2.539 9.64-5.379 13.092-17.557 7.71-27.198z" />
                        <path d="m41.347 276.17c-0.506-6.038-0.763-12.192-0.763-18.289 0-11.041-8.95-19.991-19.991-19.991s-19.991 8.95-19.991 19.991c0 7.207 0.304 14.484 0.903 21.628 0.875 10.434 9.613 18.323 19.898 18.323 0.561 0 1.125-0.023 1.693-0.071 11.003-0.922 19.174-10.589 18.251-21.591z" />
                        <path d="m411.95 436.43c-6.529-8.902-19.038-10.83-27.944-4.301-4.903 3.595-10.017 7.022-15.196 10.183-9.425 5.752-12.401 18.055-6.648 27.479 3.768 6.172 10.344 9.579 17.082 9.579 3.55 0 7.145-0.946 10.396-2.931 6.14-3.747 12.199-7.807 18.008-12.067 8.904-6.528 10.83-19.038 4.302-27.942z" />
                        <path d="m493.22 259.62c-11.012-0.995-20.72 7.102-21.72 18.098-0.551 6.053-1.366 12.151-2.425 18.124-1.926 10.871 5.326 21.246 16.197 23.173 1.18 0.209 2.353 0.31 3.511 0.31 9.513 0 17.944-6.815 19.661-16.507 1.254-7.079 2.221-14.305 2.874-21.476 1.001-10.996-7.103-20.721-18.098-21.722z" />
                        <path d="m471.65 356.78c-9.601-5.451-21.803-2.083-27.254 7.518-2.995 5.276-6.255 10.492-9.69 15.504-6.242 9.106-3.921 21.549 5.186 27.792 3.455 2.369 7.39 3.503 11.285 3.503 6.37 0 12.633-3.04 16.507-8.69 4.071-5.939 7.934-12.122 11.484-18.375 5.45-9.601 2.084-21.802-7.518-27.252z" />
                        <path d="m324.83 484.62c-2.273-10.807-12.876-17.722-23.678-15.45-5.929 1.247-11.996 2.255-18.031 2.998-10.959 1.347-18.751 11.322-17.403 22.281 1.245 10.13 9.864 17.554 19.816 17.554 0.813 0 1.637-0.05 2.464-0.151 7.156-0.88 14.35-2.075 21.383-3.554 10.805-2.272 17.721-12.874 15.449-23.678z" />
                      </svg>
                    </button> </div>
                  <div className="c-speed-headeing">
                    <h4> Download <span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-49 141 512 512" xmlns="https://vecta.io/nano">
                          <path d="M449.966 480.95c-7.197 0-13.034 5.835-13.034 13.034v49.804c0 28.747-23.388 52.135-52.135 52.135H29.203c-28.747 0-52.135-23.388-52.135-52.135v-49.804c0-7.2-5.835-13.034-13.034-13.034S-49 486.785-49 493.983v49.804C-49 586.908-13.918 622 29.203 622h355.594c43.12 0 78.203-35.082 78.203-78.203v-49.804c0-7.198-5.835-13.033-13.034-13.033z" />
                          <path d="M43.167 558.372h327.665c7.2 0 13.034-5.835 13.034-13.034s-5.835-13.034-13.034-13.034H43.167c-7.197 0-13.034 5.835-13.034 13.034s5.836 13.034 13.034 13.034z" fill="#ff0201" />
                          <path className="c-arow-animation" d="M93.484 297.272l100.482-89.764v252.6c0 7.2 5.837 13.034 13.034 13.034s13.034-5.835 13.034-13.034v-252.6l100.482 89.764c2.486 2.22 5.588 3.315 8.678 3.315 3.583 0 7.15-1.47 9.726-4.35a13.04 13.04 0 0 0-1.037-18.404L228.71 180.3c-12.376-11.055-31.04-11.057-43.417 0L76.117 277.83c-5.37 4.795-5.833 13.035-1.037 18.404s13.033 5.835 18.404 1.038z" />
                        </svg>
                      </span> </h4>
                    <h1> <span id="down">0</span> <dfn> Mbps </dfn> </h1>
                  </div>
                </div>
                <div className="c-latency-main">
                  <div className="c-speed-box c-upload-box">
                    <h4> Upload <span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-49 141 512 512" xmlns="https://vecta.io/nano">
                          <path d="M449.966 480.95c-7.197 0-13.034 5.835-13.034 13.034v49.804c0 28.747-23.388 52.135-52.135 52.135H29.203c-28.747 0-52.135-23.388-52.135-52.135v-49.804c0-7.2-5.835-13.034-13.034-13.034S-49 486.785-49 493.983v49.804C-49 586.908-13.918 622 29.203 622h355.594c43.12 0 78.203-35.082 78.203-78.203v-49.804c0-7.198-5.835-13.033-13.034-13.033z" />
                          <path d="M43.167 558.372h327.665c7.2 0 13.034-5.835 13.034-13.034s-5.835-13.034-13.034-13.034H43.167c-7.197 0-13.034 5.835-13.034 13.034s5.836 13.034 13.034 13.034z" fill="#ff0201" />
                          <path className="c-arow-animation" d="M93.484 297.272l100.482-89.764v252.6c0 7.2 5.837 13.034 13.034 13.034s13.034-5.835 13.034-13.034v-252.6l100.482 89.764c2.486 2.22 5.588 3.315 8.678 3.315 3.583 0 7.15-1.47 9.726-4.35a13.04 13.04 0 0 0-1.037-18.404L228.71 180.3c-12.376-11.055-31.04-11.057-43.417 0L76.117 277.83c-5.37 4.795-5.833 13.035-1.037 18.404s13.033 5.835 18.404 1.038z" />
                        </svg>
                      </span> </h4>
                    <ul>
                      <li> 
                        {/*<h3>Speed</h3>*/}
                        <h5><span id="up">0</span>Mbps</h5>
                      </li>
                    </ul>
                  </div>
                  <div className="c-speed-box">
                    <h4> Quality <span>
                        <svg viewBox="-66 0 511 511.99925" xmlns="http://www.w3.org/2000/svg">
                          <g fill="true">
                            <path d="m40.5 190c0 82.710938 67.289062 150 150 150s150-67.289062 150-150-67.289062-150-150-150-150 67.289062-150 150zm150-130c71.683594 0 130 58.316406 130 130s-58.316406 130-130 130-130-58.316406-130-130 58.316406-130 130-130zm0 0" />
                            <path fill="#ed2024" d="m97.890625 172.171875 38.761719 38.191406-8.917969 53.675781c-.621094 3.738282.921875 7.503907 3.988281 9.730469 3.0625 2.226563 7.121094 2.527344 10.484375.785157l48.292969-25.078126 48.289062 25.078126c3.335938 1.730468 7.394532 1.460937 10.484376-.785157 3.066406-2.226562 4.609374-5.992187 3.988281-9.730469l-8.917969-53.675781 38.761719-38.191406c2.699219-2.65625 3.664062-6.609375 2.492187-10.214844-1.171875-3.601562-4.277344-6.230469-8.023437-6.796875l-53.792969-8.097656-24.339844-48.675781c-1.691406-3.386719-5.15625-5.527344-8.941406-5.527344-3.789062 0-7.25 2.140625-8.945312 5.527344l-24.339844 48.675781-53.792969 8.097656c-3.746094.5625-6.851563 3.195313-8.023437 6.796875-1.171876 3.605469-.203126 7.558594 2.492187 10.214844zm67.4375-6.105469c3.21875-.484375 6-2.503906 7.457031-5.414062l17.714844-35.433594 17.714844 35.433594c1.457031 2.910156 4.238281 4.929687 7.457031 5.414062l39.152344 5.894532-28.214844 27.792968c-2.316406 2.285156-3.378906 5.554688-2.847656 8.765625l6.492187 39.066407-35.148437-18.25c-1.441407-.75-3.023438-1.125-4.605469-1.125s-3.164062.375-4.609375 1.125l-35.148437 18.25 6.492187-39.066407c.535156-3.210937-.527344-6.480469-2.847656-8.765625l-28.210938-27.792968zm0 0" />
                            <path d="m200.5 10c0 5.523438-4.476562 10-10 10s-10-4.476562-10-10 4.476562-10 10-10 10 4.476562 10 10zm0 0" />
                            <path d="m143.371094 5.894531c-84.121094 21.472657-142.871094 97.179688-142.871094 184.105469 0 53.988281 22.699219 104.859375 62.546875 140.886719l-60.246094 106.175781c-1.9375 3.417969-1.695312 7.652344.617188 10.824219 2.3125 3.175781 6.265625 4.703125 10.113281 3.902343l68.417969-14.207031 24.046875 67.761719c1.304687 3.6875 4.644531 6.269531 8.542968 6.617188 3.898438.347656 7.636719-1.617188 9.570313-5.019532l66.390625-116.71875 66.386719 116.71875c1.789062 3.144532 5.117187 5.054688 8.6875 5.054688.292969 0 .589843-.011719.882812-.035156 3.898438-.347657 7.238281-2.933594 8.546875-6.617188l24.042969-67.761719 68.417969 14.207031c3.84375.796876 7.800781-.730468 10.113281-3.902343 2.316406-3.171875 2.554687-7.40625.617187-10.824219l-60.246093-106.175781c39.847656-36.027344 62.546875-86.898438 62.546875-140.886719 0-86.925781-58.75-162.632812-142.867188-184.105469-5.355468-1.367187-10.796875 1.863281-12.164062 7.214844-1.367188 5.351563 1.863281 10.796875 7.214844 12.164063 75.257812 19.210937 127.820312 86.949218 127.820312 164.726562 0 94.660156-76.878906 170-170 170-93.1875 0-170-75.402344-170-170 0-77.777344 52.558594-145.515625 127.816406-164.726562 5.351563-1.367188 8.582032-6.8125 7.21875-12.164063-1.367187-5.351563-6.808594-8.582031-12.164062-7.214844zm-25.835938 472.160157-19.652344-55.378907c-1.671874-4.710937-6.5625-7.464843-11.457031-6.449219l-55.324219 11.488282 47.679688-84.03125c27.800781 20.210937 60.71875 32.523437 94.949219 35.570312zm177.035156-61.828126c-4.890624-1.015624-9.785156 1.738282-11.457031 6.449219l-19.648437 55.378907-56.199219-98.800782c34.234375-3.046875 67.148437-15.359375 94.953125-35.570312l47.679688 84.03125zm0 0" />
                          </g>
                        </svg>
                      </span> </h4>
                    <ul>
                      <li>
                        <h3>Ping</h3>
                        <h5><span id="ping">0</span>Ms</h5>
                      </li>
                      <li>
                        <h3>Jitter</h3>
                        <h5><span id="jitter">-</span></h5>
                      </li>
                      <li>
                        <h3> Buffer Bloat</h3>
                        <h5><span id="grades">-</span></h5>
                      </li>
                    </ul>
                  </div>
                </div>
                <div className="c-info-box">
                  <h4> <span>
                      <svg enableBackground="new 0 0 512.001 512.001" version="1.1" viewBox="0 0 512 512" xmlSpace="preserve" xmlns="http://www.w3.org/2000/svg">
                        <path d="m424 348h-80c-18.748 0-34 15.252-34 34s15.252 34 34 34h80c18.748 0 34-15.252 34-34s-15.252-34-34-34zm0 48h-80c-7.72 0-14-6.28-14-14s6.28-14 14-14h80c7.72 0 14 6.28 14 14s-6.28 14-14 14z" />
                        <path d="m462 284h-67.996v-85.25c0-5.523-4.477-10-10-10s-10 4.477-10 10v85.25h-202c-5.523 0-10 4.477-10 10s4.477 10 10 10h290c16.544 0 30.004 13.46 30.004 30.004v95.992c0 16.544-13.46 30.004-30.004 30.004h-411.99c-16.544 0-30.004-13.46-30.004-30.004v-95.992c0-16.544 13.46-30.004 30.004-30.004h37.996c5.523 0 10-4.477 10-10s-4.477-10-10-10h-37.996c-27.572 0-50.004 22.432-50.004 50.004v95.992c0 27.572 22.432 50.004 50.004 50.004h3.996v22c0 5.523 4.477 10 10 10h80c5.523 0 10-4.477 10-10v-22h204v22c0 5.523 4.477 10 10 10h80c5.523 0 10-4.477 10-10v-22h3.996c27.572 0 50.004-22.432 50.004-50.004v-95.992c0-27.572-22.432-50.004-50.004-50.004zm-328 208h-60v-12h60v12zm304 0h-60v-12h60v12z" />
                        <path d="m138.32 286.93c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21 1.07-7.07 2.93-2.93 4.44-2.93 7.07 1.07 5.21 2.93 7.07 4.44 2.93 7.07 2.93 5.21-1.07 7.07-2.93 2.93-4.44 2.93-7.07-1.07-5.21-2.93-7.07z" />
                        <path d="m172 348c-18.748 0-34 15.252-34 34s15.252 34 34 34 34-15.252 34-34-15.252-34-34-34zm0 48c-7.72 0-14-6.28-14-14s6.28-14 14-14 14 6.28 14 14-6.28 14-14 14z" />
                        <path d="m88.001 348c-18.748 0-34 15.252-34 34s15.252 34 34 34 34-15.252 34-34-15.252-34-34-34zm0 48c-7.72 0-14-6.28-14-14s6.28-14 14-14 14 6.28 14 14-6.28 14-14 14z" />
                        <path d="m256 348c-18.748 0-34 15.252-34 34s15.252 34 34 34 34-15.252 34-34-15.252-34-34-34zm0 48c-7.72 0-14-6.28-14-14s6.28-14 14-14 14 6.28 14 14-6.28 14-14 14z" />
                        <path d="m413.7 63.767c-7.933-7.933-18.48-12.302-29.699-12.302s-21.766 4.369-29.699 12.301c-16.375 16.376-16.375 43.021 0 59.397 7.933 7.933 18.48 12.302 29.699 12.302s21.766-4.369 29.699-12.302c16.375-16.376 16.375-43.021 0-59.396zm-14.143 45.254c-4.155 4.155-9.68 6.444-15.556 6.444s-11.401-2.289-15.556-6.444c-8.578-8.578-8.578-22.535 0-31.113 4.155-4.155 9.68-6.443 15.556-6.443s11.401 2.288 15.556 6.444c8.578 8.578 8.578 22.534 0 31.112z" />
                        <path fill="#ed2024" d="m441.98 35.482c-3.906-3.905-10.237-3.905-14.142 0s-3.906 10.237 0 14.142c24.174 24.174 24.174 63.508 0 87.681-3.905 3.905-3.905 10.237 0 14.143 1.953 1.953 4.512 2.929 7.071 2.929s5.119-0.976 7.071-2.929c31.971-31.972 31.971-83.994 0-115.97z" />
                        <path fill="#ed2024" d="m340.16 49.623c3.905-3.905 3.905-10.237 0-14.142s-10.237-3.905-14.142 0c-31.971 31.973-31.971 83.995 0 115.97 1.953 1.953 4.512 2.929 7.071 2.929s5.119-0.976 7.071-2.929c3.905-3.905 3.905-10.237 0-14.143-24.174-24.173-24.174-63.507 0-87.682z" />
                        <path fill="#ed2024" d="m474.54 2.93c-3.905-3.906-10.237-3.904-14.142 0-3.905 3.905-3.906 10.237 0 14.143 42.122 42.122 42.122 110.66 0 152.78-3.905 3.905-3.905 10.237 0 14.142 1.953 1.953 4.512 2.929 7.071 2.929s5.119-0.977 7.071-2.929c49.92-49.921 49.92-131.15 0-181.07z" />
                        <path fill="#ed2024" d="m307.61 169.86c-42.123-42.123-42.123-110.66 0-152.78 3.905-3.905 3.905-10.237 0-14.143s-10.237-3.905-14.142 0c-49.92 49.921-49.92 131.15 0 181.07 1.953 1.954 4.512 2.93 7.071 2.93s5.119-0.977 7.071-2.929c3.905-3.905 3.906-10.237 0-14.142z" />
                        <path d="m391.07 156.68c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21 1.07-7.07 2.93-2.93 4.44-2.93 7.07 1.07 5.21 2.93 7.07 4.44 2.93 7.07 2.93 5.21-1.07 7.07-2.93 2.93-4.44 2.93-7.07-1.07-5.21-2.93-7.07z" />
                      </svg>
                    </span> Source </h4>
                  <ul>
                  <li> <dfn>Client</dfn> <div id="nearest"></div>   <div id="ip"></div>  </li>
              <li> <dfn>Server(s)</dfn> <div id="nearest"></div></li>
              <li> <dfn>ISP</dfn> <div id="dns"></div> </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <div className="modal fade c-setting-modal" tabIndex={-1} role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div className="modal-dialog" role="document">
          <div className="modal-content">
            <div className="modal-body">
              <button type="button" className="close" data-dismiss="modal">×</button>
              <p>"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..."
                "There is no one who loves pain itself, who seeks after it and wants to have it, simply because it is pain..."
                What is Lorem Ipsum?
                Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum</p>
            </div>
          </div>
        </div>
      </div>
      <span style={{display: 'none'}} id="status" />
        
      </div>
    );
  }
}
export default App;
